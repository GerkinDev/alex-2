{% extends 'pages/base.html.twig' %}

{% block body %}
<div class="templatemo-content-wrapper">
	<div class="templatemo-content">
		<div class="black-bg">
			<table class="m-2">
				<thead><tr>
					<th>{% trans %}Name{% endtrans %}</th>
					<th>{% trans %}Materials{% endtrans %}</th>
					<th>{% trans %}Number{% endtrans %}</th>
					<th>{% trans %}Unit price{% endtrans %}</th>
					<th>{% trans %}Total price{% endtrans %}</th>
					</tr></thead>
				{% for cartIndex, cartItem in cartList %}
				<tr class="cart-item">
					<td>{{ cartItem.entity.title }}</td>
					<td>
						<table class="materials-choices">
							{% for partName, material in cartItem.parts %}
							<tr data-part-mass="{{ cartItem.masses[partName] }}">
								<td><label for="cart{{ cartIndex }}-{{ partName }}" >{{ partName }}</label></td>
								<td>{{ include(
									'components/material-select.html.twig',
									{ partName: partName, materials: materials, namePrefix: 'cart' ~ cartIndex, selected: material.id },
									with_context = false
									) }}</td>
							</tr>
							{% endfor %}
						</table>
					</td>
					<td><input type="number" min="1" value="{{ cartItem.count }}" name="cart{{ cartIndex }}[number]" class="unit-count form-control"/></td>
					<td><output value="{{ cartItem.price | localizedcurrency('EUR') }}" class="unit-price form-control" disabled/></td>
					<td><output value="{{ (cartItem.price * cartItem.count) | localizedcurrency('EUR') }}" class="sum-price form-control" disabled/></td>
				</tr>
				{% endfor %}
			</table>
		</div>
	</div>
</div>
{% endblock %}

{% block background_image %}zoom-bg-1.jpg{% endblock %}
